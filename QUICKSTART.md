# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞

```bash
python example.py
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏.

### 3. –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (–æ—Ç–ª–∞–¥–∫–∞)

```bash
python server.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:5000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

---

## –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –¥—Ä–æ–Ω

### 1. –û—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```bash
python drone_navigation.py
```

–≠—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç:
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞ —Å –∫–∞–º–µ—Ä—ã
- ‚úÖ TCP —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 5001
- ‚úÖ UDP —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 5002
- ‚úÖ –ê–≤—Ç–æ–∫–∞–ª–∏–±—Ä–æ–≤–∫—É –ø—Ä–∏ –≤–∑–ª–µ—Ç–µ

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—Ä–æ–Ω–æ–º –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫:
- **TCP:** `localhost:5001` (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)
- **UDP:** `localhost:5002` (—à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã)

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
- –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–∞–∫–µ—Ç: 33 –±–∞–π—Ç–∞ (—Å–º. `navigation_server.py`)
- JSON –ø–∞–∫–µ—Ç: —á–µ—Ä–µ–∑ UDP (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

### 3. –°–∏–≥–Ω–∞–ª –≤–∑–ª–µ—Ç–∞

–ü—Ä–∏ –≤–∑–ª–µ—Ç–µ –≤—ã–∑–æ–≤–∏—Ç–µ:
```python
nav_system.takeoff()  # –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ–∫–∞–ª–∏–±—Ä–æ–≤–∫—É
```

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
2. –ü–æ–ª—É—á–∏—Ç GPS —Ñ–∏–∫—Å
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –¥–æ–º–∞—à–Ω—é—é —Ç–æ—á–∫—É
4. –ù–∞—á–Ω–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üì° –ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

### Python –∫–ª–∏–µ–Ω—Ç –¥–ª—è TCP:

```python
import socket
import struct

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock.connect(('localhost', 5001))

# –§–æ—Ä–º–∞—Ç –ø–∞–∫–µ—Ç–∞
PACKET_FORMAT = 'dfffffffB'
PACKET_SIZE = struct.calcsize(PACKET_FORMAT)

while True:
    data = sock.recv(PACKET_SIZE)
    if len(data) == PACKET_SIZE:
        packet = struct.unpack(PACKET_FORMAT, data)
        timestamp, pos_x, pos_y, offset_x, offset_y, \
        vel_x, vel_y, confidence, status = packet
        
        print(f"Position: ({pos_x:.1f}, {pos_y:.1f}), "
              f"Offset: ({offset_x:.1f}, {offset_y:.1f}), "
              f"Confidence: {confidence:.2f}")
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –≤—ã—Å–æ—Ç—ã

```python
from drone_navigation import DroneNavigationSystem

# –î–ª—è –≤—ã—Å–æ—Ç—ã 50–º
nav_system = DroneNavigationSystem(
    camera_id=0,
    target_fps=10.0,
    optimize_for_latency=True
)

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞—Å—à—Ç–∞–± (–ø–∏–∫—Å–µ–ª–∏ -> –º–µ—Ç—Ä—ã)
# –î–ª—è –≤—ã—Å–æ—Ç—ã 50–º: ~20 –ø–∏–∫—Å–µ–ª–µ–π/–º–µ—Ç—Ä
# –î–ª—è –≤—ã—Å–æ—Ç—ã 200–º: ~5 –ø–∏–∫—Å–µ–ª–µ–π/–º–µ—Ç—Ä
# –î–ª—è –≤—ã—Å–æ—Ç—ã 800–º: ~1 –ø–∏–∫—Å–µ–ª—å/–º–µ—Ç—Ä
nav_system.home_return.set_pixels_per_meter(20.0)  # –î–ª—è 50–º
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É:**
   ```bash
   python drone_navigation.py
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ TCP —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   nc localhost 5001  # –∏–ª–∏ telnet localhost 5001
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ UDP —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   python -c "import socket; s=socket.socket(socket.AF_INET, socket.SOCK_DGRAM); s.sendto(b'get', ('localhost', 5002)); print(s.recvfrom(1024))"
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:**
   –°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥:
   ```
   FPS: 10.2, Latency: 45.3ms, Frames: 51
   ‚úÖ –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
   ```

---

## üìù –õ–æ–≥–∏

–°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç:
- –°—Ç–∞—Ç—É—Å –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–∞–º–µ—Ä–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID –∫–∞–º–µ—Ä—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞: `v4l2-ctl --list-devices`

### –ù–∏–∑–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –£–º–µ–Ω—å—à–∏—Ç–µ `max_corners` –≤ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä–µ
- –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—è

### –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ GPS —Ñ–∏–∫—Å –≤–∞–ª–∏–¥–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∏–∑—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- –£–≤–µ–ª–∏—á—å—Ç–µ –≤—Ä–µ–º—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –≤ `auto_calibration.py`

---

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. `README.md` –∏ `REQUIREMENTS_CHECKLIST.md`

